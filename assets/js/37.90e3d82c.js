(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{571:function(e,v,_){"use strict";_.r(v);var t=_(6),a=Object(t.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("p",[e._v("文章来源："),_("a",{attrs:{href:"https://mp.weixin.qq.com/s/8LKCUSRzxN0HFXtdeTJJgQ",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("面试官：说说Git 中 HEAD、工作树和索引之间的区别？"),_("OutboundLink")],1)]),e._v(" "),_("h2",{attrs:{id:"head"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#head"}},[e._v("#")]),e._v(" HEAD")]),e._v(" "),_("p",[e._v("在"),_("code",[e._v("git")]),e._v("中，可以存在很多分支，其本质上是一个指向"),_("code",[e._v("commit")]),e._v("对象的可变指针，而"),_("code",[e._v("Head")]),e._v("是一个特别的指针，是一个指向你正在工作中的本地分支的指针,简单来讲，就是你现在在哪儿，"),_("code",[e._v("HEAD")]),e._v(" 就指向哪儿")]),e._v(" "),_("p",[e._v("例如当前我们处于"),_("code",[e._v("master")]),e._v("分支，所以"),_("code",[e._v("HEAD")]),e._v("这个指针指向了"),_("code",[e._v("master")]),e._v("分支指针，然后通过调用"),_("code",[e._v("git checkout test")]),e._v("切换到"),_("code",[e._v("test")]),e._v("分支，那么"),_("code",[e._v("HEAD")]),e._v("则指向"),_("code",[e._v("test")]),e._v("分支，但我们在"),_("code",[e._v("test")]),e._v("分支再一次"),_("code",[e._v("commit")]),e._v("信息的时候，"),_("code",[e._v("HEAD")]),e._v("指针仍然指向了"),_("code",[e._v("test")]),e._v("分支指针，而"),_("code",[e._v("test")]),e._v("分支指针已经指向了最新创建的提交")]),e._v(" "),_("p",[e._v("这个"),_("code",[e._v("HEAD")]),e._v("存储的位置就在"),_("code",[e._v(".git/HEAD")]),e._v("目录中，查看信息可以看到"),_("code",[e._v("HEAD")]),e._v("指向了另一个文件")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("$ cat .git/HEAD\nref: refs/heads/master\n\n$ cat .git/refs/heads/master\n7406a10efcc169bbab17827aeda189aa20376f7f\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br"),_("span",{staticClass:"line-number"},[e._v("2")]),_("br"),_("span",{staticClass:"line-number"},[e._v("3")]),_("br"),_("span",{staticClass:"line-number"},[e._v("4")]),_("br"),_("span",{staticClass:"line-number"},[e._v("5")]),_("br")])]),_("p",[e._v("这个文件的内容是一串哈希码，而这个哈希码正是"),_("code",[e._v("master")]),e._v("分支上最新的提交所对应的哈希码")]),e._v(" "),_("p",[e._v("所以，当我们切换分支的时候，"),_("code",[e._v("HEAD")]),e._v("指针通常指向我们所在的分支，当我们在某个分支上创建新的提交时，分支指针总是会指向当前分支的最新提交")]),e._v(" "),_("p",[e._v("所以，HEAD指针 ——–> 分支指针 ——–> 最新提交")]),e._v(" "),_("h2",{attrs:{id:"工作树和索引"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#工作树和索引"}},[e._v("#")]),e._v(" 工作树和索引")]),e._v(" "),_("p",[e._v("在"),_("code",[e._v("Git")]),e._v("管理下，大家实际操作的目录被称为工作树，也就是工作区域")]),e._v(" "),_("p",[e._v("在数据库和工作树之间有索引，索引是为了向数据库提交作准备的区域，也被称为暂存区域")]),e._v(" "),_("p",[_("code",[e._v("Git")]),e._v("在执行提交的时候，不是直接将工作树的状态保存到数据库，而是将设置在中间索引区域的状态保存到数据库")]),e._v(" "),_("p",[e._v("因此，要提交文件，首先需要把文件加入到索引区域中。")]),e._v(" "),_("p",[e._v("所以，凭借中间的索引，可以避免工作树中不必要的文件提交，还可以将文件修改内容的一部分加入索引区域并提交")]),e._v(" "),_("h2",{attrs:{id:"区别"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[e._v("#")]),e._v(" 区别")]),e._v(" "),_("p",[e._v("从所在的位置来看：")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("HEAD")]),e._v(" 指针通常指向我们所在的分支，当我们在某个分支上创建新的提交时，分支指针总是会指向当前分支的最新提交")]),e._v(" "),_("li",[e._v("工作树是查看和编辑的（源）文件的实际内容")]),e._v(" "),_("li",[e._v("索引是放置你想要提交给 "),_("code",[e._v("git")]),e._v("仓库文件的地方，如工作树的代码通过 "),_("code",[e._v("git add")]),e._v(" 则添加到 "),_("code",[e._v("git")]),e._v(" 索引中，通过"),_("code",[e._v("git commit")]),e._v(" 则将索引区域的文件提交到 "),_("code",[e._v("git")]),e._v(" 仓库中")])])])}),[],!1,null,null,null);v.default=a.exports}}]);