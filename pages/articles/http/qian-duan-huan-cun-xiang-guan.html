<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端缓存相关 | frenchleave</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="冯春齐 fengchunqi frenchleave blog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" content="冯春齐,fengchunqi,frenchleave blog">
    
    <link rel="preload" href="/assets/css/0.styles.2d7db07c.css" as="style"><link rel="preload" href="/assets/js/app.c8e21545.js" as="script"><link rel="preload" href="/assets/js/3.83a3aa92.js" as="script"><link rel="preload" href="/assets/js/1.1efd4ac0.js" as="script"><link rel="preload" href="/assets/js/55.721e67ce.js" as="script"><link rel="preload" href="/assets/js/11.ae2268d9.js" as="script"><link rel="prefetch" href="/assets/js/10.4c13b9ab.js"><link rel="prefetch" href="/assets/js/100.fc05697d.js"><link rel="prefetch" href="/assets/js/101.45548efc.js"><link rel="prefetch" href="/assets/js/102.ab4a8d5b.js"><link rel="prefetch" href="/assets/js/103.85ab48c9.js"><link rel="prefetch" href="/assets/js/104.b59ef1f6.js"><link rel="prefetch" href="/assets/js/105.fe81fda1.js"><link rel="prefetch" href="/assets/js/106.c2980b56.js"><link rel="prefetch" href="/assets/js/107.a130f813.js"><link rel="prefetch" href="/assets/js/108.c4104a6a.js"><link rel="prefetch" href="/assets/js/109.61e7ad03.js"><link rel="prefetch" href="/assets/js/110.1aae8588.js"><link rel="prefetch" href="/assets/js/111.e11e061f.js"><link rel="prefetch" href="/assets/js/112.b694c6b6.js"><link rel="prefetch" href="/assets/js/113.d801577d.js"><link rel="prefetch" href="/assets/js/114.f03db63b.js"><link rel="prefetch" href="/assets/js/115.10c1e54c.js"><link rel="prefetch" href="/assets/js/116.f8364038.js"><link rel="prefetch" href="/assets/js/117.bf7d9a2d.js"><link rel="prefetch" href="/assets/js/118.bfbca3f0.js"><link rel="prefetch" href="/assets/js/119.6ebfa344.js"><link rel="prefetch" href="/assets/js/12.e9187b87.js"><link rel="prefetch" href="/assets/js/120.e28722d4.js"><link rel="prefetch" href="/assets/js/121.b347492b.js"><link rel="prefetch" href="/assets/js/122.7e7b4b81.js"><link rel="prefetch" href="/assets/js/123.b40591db.js"><link rel="prefetch" href="/assets/js/124.724aef85.js"><link rel="prefetch" href="/assets/js/125.5482affe.js"><link rel="prefetch" href="/assets/js/126.fad7311f.js"><link rel="prefetch" href="/assets/js/127.7eda85ed.js"><link rel="prefetch" href="/assets/js/128.b1bf1ee4.js"><link rel="prefetch" href="/assets/js/129.28c06564.js"><link rel="prefetch" href="/assets/js/13.30437ffa.js"><link rel="prefetch" href="/assets/js/130.feee2a84.js"><link rel="prefetch" href="/assets/js/131.1927ed9a.js"><link rel="prefetch" href="/assets/js/132.55fc8bda.js"><link rel="prefetch" href="/assets/js/133.90f5c895.js"><link rel="prefetch" href="/assets/js/134.1665c2b4.js"><link rel="prefetch" href="/assets/js/135.c7505899.js"><link rel="prefetch" href="/assets/js/136.04b9e09f.js"><link rel="prefetch" href="/assets/js/137.d322e81f.js"><link rel="prefetch" href="/assets/js/138.408834d2.js"><link rel="prefetch" href="/assets/js/139.e7816252.js"><link rel="prefetch" href="/assets/js/14.9bf65165.js"><link rel="prefetch" href="/assets/js/140.aeda878e.js"><link rel="prefetch" href="/assets/js/141.256277ec.js"><link rel="prefetch" href="/assets/js/142.468ac6a9.js"><link rel="prefetch" href="/assets/js/143.94425108.js"><link rel="prefetch" href="/assets/js/144.2f5bc598.js"><link rel="prefetch" href="/assets/js/145.57c8b023.js"><link rel="prefetch" href="/assets/js/146.6949efbb.js"><link rel="prefetch" href="/assets/js/15.51e59a06.js"><link rel="prefetch" href="/assets/js/16.181c0fea.js"><link rel="prefetch" href="/assets/js/17.ab7b46c0.js"><link rel="prefetch" href="/assets/js/18.531b5ff0.js"><link rel="prefetch" href="/assets/js/19.0e146b0b.js"><link rel="prefetch" href="/assets/js/20.495e3ff7.js"><link rel="prefetch" href="/assets/js/21.94e46a79.js"><link rel="prefetch" href="/assets/js/22.7b57490f.js"><link rel="prefetch" href="/assets/js/23.036e0b14.js"><link rel="prefetch" href="/assets/js/24.afa8ed05.js"><link rel="prefetch" href="/assets/js/25.13d03ae3.js"><link rel="prefetch" href="/assets/js/26.543b0289.js"><link rel="prefetch" href="/assets/js/27.eb0b26c0.js"><link rel="prefetch" href="/assets/js/28.85630f33.js"><link rel="prefetch" href="/assets/js/29.30f3b6a0.js"><link rel="prefetch" href="/assets/js/30.51bd6888.js"><link rel="prefetch" href="/assets/js/31.73b09018.js"><link rel="prefetch" href="/assets/js/32.3fe4a858.js"><link rel="prefetch" href="/assets/js/33.6aadf165.js"><link rel="prefetch" href="/assets/js/34.7d3fa6cd.js"><link rel="prefetch" href="/assets/js/35.c635433e.js"><link rel="prefetch" href="/assets/js/36.44970978.js"><link rel="prefetch" href="/assets/js/37.14ef64b2.js"><link rel="prefetch" href="/assets/js/38.a4f8f0ba.js"><link rel="prefetch" href="/assets/js/39.68d86d43.js"><link rel="prefetch" href="/assets/js/4.eced67fa.js"><link rel="prefetch" href="/assets/js/40.31e04ad2.js"><link rel="prefetch" href="/assets/js/41.eb1bc5dd.js"><link rel="prefetch" href="/assets/js/42.a8823283.js"><link rel="prefetch" href="/assets/js/43.0350dd79.js"><link rel="prefetch" href="/assets/js/44.1e16a1d4.js"><link rel="prefetch" href="/assets/js/45.2fb78c12.js"><link rel="prefetch" href="/assets/js/46.b11d750f.js"><link rel="prefetch" href="/assets/js/47.fd5938ec.js"><link rel="prefetch" href="/assets/js/48.2d0ba103.js"><link rel="prefetch" href="/assets/js/49.97f1691f.js"><link rel="prefetch" href="/assets/js/5.56199536.js"><link rel="prefetch" href="/assets/js/50.bc9beb26.js"><link rel="prefetch" href="/assets/js/51.bd7213ed.js"><link rel="prefetch" href="/assets/js/52.0927825c.js"><link rel="prefetch" href="/assets/js/53.80d4cb3a.js"><link rel="prefetch" href="/assets/js/54.21a2735e.js"><link rel="prefetch" href="/assets/js/56.09fdfef3.js"><link rel="prefetch" href="/assets/js/57.8629084e.js"><link rel="prefetch" href="/assets/js/58.1c2f1206.js"><link rel="prefetch" href="/assets/js/59.0b9cdada.js"><link rel="prefetch" href="/assets/js/6.36581b04.js"><link rel="prefetch" href="/assets/js/60.938ca8a3.js"><link rel="prefetch" href="/assets/js/61.998763c5.js"><link rel="prefetch" href="/assets/js/62.2915740d.js"><link rel="prefetch" href="/assets/js/63.d0204e5a.js"><link rel="prefetch" href="/assets/js/64.0c24c63c.js"><link rel="prefetch" href="/assets/js/65.6014aa1a.js"><link rel="prefetch" href="/assets/js/66.d4964eeb.js"><link rel="prefetch" href="/assets/js/67.a6ba37ca.js"><link rel="prefetch" href="/assets/js/68.8c884a5b.js"><link rel="prefetch" href="/assets/js/69.d425ab62.js"><link rel="prefetch" href="/assets/js/7.d48afba3.js"><link rel="prefetch" href="/assets/js/70.3199ee5c.js"><link rel="prefetch" href="/assets/js/71.a8da76c7.js"><link rel="prefetch" href="/assets/js/72.707a02c7.js"><link rel="prefetch" href="/assets/js/73.4a4b736b.js"><link rel="prefetch" href="/assets/js/74.785d6830.js"><link rel="prefetch" href="/assets/js/75.e5121099.js"><link rel="prefetch" href="/assets/js/76.4a68c249.js"><link rel="prefetch" href="/assets/js/77.8acbd945.js"><link rel="prefetch" href="/assets/js/78.1bb30332.js"><link rel="prefetch" href="/assets/js/79.158ae522.js"><link rel="prefetch" href="/assets/js/8.4b2dcb4b.js"><link rel="prefetch" href="/assets/js/80.eccfd4f4.js"><link rel="prefetch" href="/assets/js/81.7875050f.js"><link rel="prefetch" href="/assets/js/82.ae7f6b69.js"><link rel="prefetch" href="/assets/js/83.9dcb98a9.js"><link rel="prefetch" href="/assets/js/84.abba6b2f.js"><link rel="prefetch" href="/assets/js/85.51e8c018.js"><link rel="prefetch" href="/assets/js/86.d2663803.js"><link rel="prefetch" href="/assets/js/87.0eb4da26.js"><link rel="prefetch" href="/assets/js/88.a7ff89c5.js"><link rel="prefetch" href="/assets/js/89.36b525ac.js"><link rel="prefetch" href="/assets/js/9.7c9ca731.js"><link rel="prefetch" href="/assets/js/90.88bad5bf.js"><link rel="prefetch" href="/assets/js/91.01920489.js"><link rel="prefetch" href="/assets/js/92.1b1b92f5.js"><link rel="prefetch" href="/assets/js/93.eb2d5dea.js"><link rel="prefetch" href="/assets/js/94.667515a3.js"><link rel="prefetch" href="/assets/js/95.1e2b7e42.js"><link rel="prefetch" href="/assets/js/96.b8e0bab4.js"><link rel="prefetch" href="/assets/js/97.a5c52a29.js"><link rel="prefetch" href="/assets/js/98.bd7c5996.js"><link rel="prefetch" href="/assets/js/99.d586e377.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2d7db07c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1156296a><div data-v-1156296a><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1156296a data-v-1156296a><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4e82dffc data-v-1156296a data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>frenchleave</h3> <p class="description" data-v-4e82dffc data-v-4e82dffc>冯春齐 fengchunqi frenchleave blog</p> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>fengchunqi</span>
            
          <span data-v-4e82dffc>2020 - </span>
          2025
        </a></span></div></div> <div class="hide" data-v-1156296a><header class="navbar" data-v-1156296a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.jpg" alt="frenchleave" class="logo"> <span class="site-name">frenchleave</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Articles/" class="nav-link"><i class="undefined"></i>
  Articles
</a></li><li class="dropdown-item"><!----> <a href="/categories/About/" class="nav-link"><i class="undefined"></i>
  About
</a></li><li class="dropdown-item"><!----> <a href="/categories/Study/" class="nav-link"><i class="undefined"></i>
  Study
</a></li><li class="dropdown-item"><!----> <a href="/categories/Poem/" class="nav-link"><i class="undefined"></i>
  Poem
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/pages/comments/" class="nav-link"><i class="iconfont reco-suggestion"></i>
  留言板
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      更多
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/about/author.html" class="nav-link"><i class="undefined"></i>
  关于作者
</a></li><li class="dropdown-item"><!----> <a href="/pages/about/website.html" class="nav-link"><i class="undefined"></i>
  关于本站
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1156296a></div> <aside class="sidebar" data-v-1156296a><div class="personal-info-wrapper" data-v-828910c6 data-v-1156296a><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-828910c6> <h3 class="name" data-v-828910c6>
    fengchunqi
  </h3> <div class="num" data-v-828910c6><div data-v-828910c6><h3 data-v-828910c6>118</h3> <h6 data-v-828910c6>文章</h6></div> <div data-v-828910c6><h3 data-v-828910c6>20</h3> <h6 data-v-828910c6>标签</h6></div></div> <ul class="social-links" data-v-828910c6></ul> <hr data-v-828910c6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Articles/" class="nav-link"><i class="undefined"></i>
  Articles
</a></li><li class="dropdown-item"><!----> <a href="/categories/About/" class="nav-link"><i class="undefined"></i>
  About
</a></li><li class="dropdown-item"><!----> <a href="/categories/Study/" class="nav-link"><i class="undefined"></i>
  Study
</a></li><li class="dropdown-item"><!----> <a href="/categories/Poem/" class="nav-link"><i class="undefined"></i>
  Poem
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/pages/comments/" class="nav-link"><i class="iconfont reco-suggestion"></i>
  留言板
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      更多
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/about/author.html" class="nav-link"><i class="undefined"></i>
  关于作者
</a></li><li class="dropdown-item"><!----> <a href="/pages/about/website.html" class="nav-link"><i class="undefined"></i>
  关于本站
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Algorithm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>HTTP</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/articles/http/tcpde-san-ci-wo-shou-yu-si-ci-hui-shou.html" class="sidebar-link">TCP的三次握手与四次挥手</a></li><li><a href="/pages/articles/http/osiqi-ceng-mo-xing-yu-tcpipwu-ceng-mo-xing.html" class="sidebar-link">OSI七层模型与TCPIP五层模型</a></li><li><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html" aria-current="page" class="active sidebar-link">前端缓存相关</a></li><li><a href="/pages/articles/http/wei-shi-me-xu-yao-urlbian-ma.html" class="sidebar-link">为什么需要URL编码</a></li><li><a href="/pages/articles/http/dnsjie-xi-liu-cheng-yi-ji-qian-duan-you-hua.html" class="sidebar-link">DNS解析流程以及前端优化</a></li><li><a href="/pages/articles/http/httpyu-https.html" class="sidebar-link">HTTP与HTTPS</a></li><li><a href="/pages/articles/http/http0de-qu-bie.html" class="sidebar-link">HTTP1.0,1.1,2.0的区别</a></li><li><a href="/pages/articles/http/httpchang-jian-de-zhuang-tai-ma-yi-ji-qing-qiu-tou.html" class="sidebar-link">HTTP常见的状态码以及请求头</a></li><li><a href="/pages/articles/http/httpsxie-yi-shi-ru-he-bao-zheng-an-quan-de.html" class="sidebar-link">HTTPS协议是如何保证安全的</a></li><li><a href="/pages/articles/http/chang-jian-wang-zhan-gong-ji-ji-shu.html" class="sidebar-link">常见网站攻击技术</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Interview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NPM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VSCode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4e82dffc data-v-1156296a><h3 class="title" data-v-4e82dffc data-v-4e82dffc>前端缓存相关</h3> <!----> <label id="box" class="inputBox" data-v-4e82dffc data-v-4e82dffc><input type="password" value="" data-v-4e82dffc> <span data-v-4e82dffc>Konck! Knock!</span> <button data-v-4e82dffc>OK</button></label> <div class="footer" data-v-4e82dffc data-v-4e82dffc><span data-v-4e82dffc><i class="iconfont reco-theme" data-v-4e82dffc></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4e82dffc>vuePress-theme-reco</a></span> <span data-v-4e82dffc><i class="iconfont reco-copyright" data-v-4e82dffc></i> <a data-v-4e82dffc><span data-v-4e82dffc>fengchunqi</span>
            
          <span data-v-4e82dffc>2020 - </span>
          2025
        </a></span></div></div> <div data-v-1156296a><main class="page"><section><div class="page-title"><h1 class="title">前端缓存相关</h1> <div data-v-1ff7123e><i class="iconfont reco-account" data-v-1ff7123e><span data-v-1ff7123e>fengchunqi</span></i> <i class="iconfont reco-date" data-v-1ff7123e><span data-v-1ff7123e>2021/5/19</span></i> <i class="iconfont reco-eye" data-v-1ff7123e><span id="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-1ff7123e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-1ff7123e><span class="tag-item" data-v-1ff7123e>HTTP</span></i></div></div> <div class="theme-reco-content content__default"><div class="custom-block tip"><p class="custom-block-title">TIPS</p> <p>参考文章：</p> <ul><li><a href="https://blog.csdn.net/qq_38910842/article/details/104960509" target="_blank" rel="nofollow noopener noreferrer">前端缓存看这一篇就够了<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/44789005" target="_blank" rel="nofollow noopener noreferrer">一文读懂前端缓存<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <h2 id="什么是缓存"><a href="#什么是缓存" class="header-anchor">#</a> 什么是缓存</h2> <p>基本的网络请求就是三个步骤：<strong>请求</strong>，<strong>处理</strong>，<strong>响应</strong>。</p> <p>后端缓存主要集中于<strong>处理</strong>步骤，通过保留数据库连接，存储处理结果等方式缩短处理时间，尽快进入<strong>响应</strong>步骤。当然这不在本文的讨论范围之内。</p> <p>而前端缓存则可以在剩下的两步：<strong>请求</strong>和<strong>响应</strong>中进行。在<strong>请求</strong>步骤中，浏览器也可以通过存储结果的方式直接使用资源，直接省去了发送请求；而<strong>响应</strong>步骤需要浏览器和服务器共同配合，通过减少响应内容来缩短传输时间。前端缓存主要是保存资源副本并在下次请求时直接使用该副本。</p> <h2 id="为什么要缓存"><a href="#为什么要缓存" class="header-anchor">#</a> 为什么要缓存</h2> <ul><li>缓解服务器压力（不用每次去请求资源）。</li> <li>提升性能，提高访问速度（打开本地资源速度当然比请求回来再打开要快得多）。</li> <li>减少网络IO消耗，减少带宽消耗。</li> <li>通过网络获取内容既速度缓慢又开销巨大。</li> <li>如果是较大的响应需要在客户端与服务器之间进行多次往返通信，这会延迟浏览器获得和处理内容的时间，还会增加访问者的流量费用。</li></ul> <h2 id="缓存分类"><a href="#缓存分类" class="header-anchor">#</a> 缓存分类</h2> <p>缓存总体可分为：<strong>私有缓存（private）<strong>与</strong>共享缓存（public）</strong>。</p> <ul><li>私有缓存：该资源只能被浏览器缓存，private为默认值，只能用于单独用户。比如浏览器中的“缓存”选项，浏览器缓存拥有用户可以通过http下载的所有文档。</li> <li>共享缓存：该资源既可以被浏览器缓存，也可以被代理服务器缓存，能够被多个用户使用。这样资源是可以被重复使用的，优点：减少网络拥堵和延迟。</li></ul> <p>按种类分的话可以分为：</p> <ul><li>数据库缓存。</li> <li>代理服务器缓存。</li> <li>网关缓存（CDN缓存）。</li> <li>浏览器缓存。</li></ul> <p>这里我们主要聊一下浏览器缓存。</p> <h2 id="按缓存位置分类"><a href="#按缓存位置分类" class="header-anchor">#</a> 按缓存位置分类</h2> <p>从缓存位置上来说分为四种，并且各自有优先级，当依次查找缓存且都没有命中的时候，才会去请求网络：</p> <ul><li>Service Worker。</li> <li>memory cache。</li> <li>disk cache。</li> <li>Push Cache。</li></ul> <h3 id="service-worker"><a href="#service-worker" class="header-anchor">#</a> Service Worker</h3> <p><code>Service Worker</code>是一种独立于主线程之外的Javascript线程。它脱离于浏览器窗体，可以帮我们实现离线缓存、消息推送和网络代理等功能。</p> <p>使用<code>Service Worker</code>的话，传输协议必须为HTTPS。因为<code>Service Worker</code>中涉及到请求拦截，所以必须使用HTTPS协议来保障安全。</p> <p><code>Service Worker</code>的缓存与浏览器其他内建的缓存机制不同，它可以让我们自由控制缓存哪些文件、如何匹配缓存、如何读取缓存，并且缓存是持续性的。</p> <p>我们可以从Chrome的F12中，<code>Application -&gt; Cache Storage</code>找到。除了位置不同之外，这个缓存是永久性的，即关闭TAB或者浏览器，下次打开依然还在（而<code>memory cache</code>不是）。有两种情况会导致这个缓存中的资源被清除：手动调用API：<code>caches.delete(resource)</code>或者容量超过限制，被浏览器全部清空。</p> <p><code>Service Worker</code>实现缓存功能一般分为三个步骤：首先需要先注册<code>Service Worker</code>，然后监听到<code>install</code>事件以后就可以缓存需要的文件，那么在下次用户访问的时候就可以通过拦截请求的方式查询是否存在缓存，存在缓存的话就可以直接读取缓存文件，否则就去请求数据。</p> <p>当<code>Service Worker</code>没有命中缓存的时候，我们需要去调用<code>fetch</code>函数获取数据。也就是说，如果我们没有在<code>Service Worker</code>命中缓存的话，会根据缓存查找优先级去查找数据。但是不管我们是从<code>memory cache</code>或者<code>disk cache</code>中还是从网络请求中获取的数据，浏览器都会显示我们是从<code>Service Worker</code>中获取的内容，即<code>from ServiceWorker</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/* 判断当前浏览器是否支持serviceWorker */</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'serviceWorker'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 当页面加载完成就创建一个serviceWorker */</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 创建并指定对应的执行内容 */</span>
    <span class="token comment">/* scope 参数是可选的，可以用来指定你想让 service worker 控制的内容的子目录
    在这个例子里，我们指定了 '/'，表示 根网域下的所有内容。这也是默认值。 */</span>
    navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'./serviceWorker.js'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> scope<span class="token operator">:</span> <span class="token string">'./'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ServiceWorker registration successful with scope: '</span><span class="token punctuation">,</span> registration<span class="token punctuation">.</span>scope<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ServiceWorker registration failed: '</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// serviceWorker.js</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'install'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当确定要访问某些资源时，提前请求并添加到缓存中。</span>
  <span class="token comment">// 这个模式叫做“预缓存”</span>
  e<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'service-worker-test-precache'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">cache</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'/static/index.js'</span><span class="token punctuation">,</span> <span class="token string">'/static/index.css'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'fetch'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 缓存中能找到就返回，找不到就网络请求，之后再写入缓存并返回。</span>
  <span class="token comment">// 这个称为 CacheFirst 的缓存策略。</span>
  <span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'service-worker-test-precache'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">cache</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">matchedResponse</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> matchedResponse <span class="token operator">||</span> <span class="token function">fetch</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">fetchedResponse</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          cache<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">,</span> fetchedResponse<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> fetchedResponse
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="memory-cache"><a href="#memory-cache" class="header-anchor">#</a> memory cache</h3> <p><code>memory cache</code>是指存在内存中的缓存。包括当前中页面中已经抓取到的资源，例如页面上已经下载的样式、脚本、图片等。</p> <p>因为存储在内存中，<code>memory cache</code>是响应速度最快的一种缓存，但由于同样的原因，缓存持续性很短，会随着进程的释放而释放。一旦我们关闭Tab页面，内存中的缓存也就被释放了。</p> <p>计算机内存有限，比硬盘容量小很多，浏览器会考虑计算机具体情况来决定缓存放在内存中还是硬盘中。小文件优先缓存在内存中。</p> <p>内存缓存中有一块重要的缓存资源是<code>preloader</code>相关指令下载的资源。众所周知<code>preloader</code>的相关指令已经是页面优化的常见手段之一，它可以一边解析js/css文件，一边网络请求下一个资源。</p> <p>有些浏览器还会下载css中的<code>@import</code>内容或者<code>&lt;video&gt;</code>的poster等。而这些被<code>preloader</code>请求过来的资源就会被放入<code>memory cache</code>中，供之后的解析执行操作使用。<code>preload</code>（虽然看上去和刚才的<code>preloader</code>就差了俩字母）。实际上这个大家应该更加熟悉一些，例如<code>&lt;link rel=&quot;preload&quot;&gt;</code>。这些显式指定的预加载资源，也会被放入<code>memory cache</code>中。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>memory cache</code>机制保证了一个页面中如果有两个相同的请求（例如两个<code>src</code>相同的<code>&lt;img&gt;</code>，两个<code>href</code>相同的<code>&lt;link&gt;</code>）都实际只会被请求最多一次，避免浪费。</p> <p>不过在匹配缓存时，除了匹配完全相同的URL之外，还会比对他们的类型，CORS中的域名规则等。因此一个作为脚本（script）类型被缓存的资源是不能用在图片（image）类型的请求中的，即便他们<code>src</code>相等。</p></div> <p>在从<code>memory cache</code>获取缓存内容时，浏览器会忽视例如<code>max-age=0</code>,<code>no-cache</code>等头部配置。例如页面上存在几个相同src的图片，即便它们可能被设置为不缓存，但依然会从<code>memory cache</code>中读取。这是因为<code>memory cache</code>只是短期使用，大部分情况生命周期只有一次浏览而已。而<code>max-age=0</code>在语义上普遍被解读为“不要在下次浏览时使用”，所以和<code>memory cache</code>并不冲突。</p> <p>但如果真心不想让一个资源进入缓存，就连短期也不行，那就需要使用<code>no-store</code>。存在这个头部配置的话，即便是<code>memory cache</code>也不会存储。</p> <h3 id="disk-cache"><a href="#disk-cache" class="header-anchor">#</a> disk cache</h3> <p><code>disk cache</code>也叫HTTP cache，也就是存储在硬盘中的缓存，读取速度慢点，但是什么都能存储到磁盘中，比之<code>memory cache</code>胜在容量和存储时效性上。实际是存在于文件系统中的。而且它允许相同的资源在跨会话，甚至跨站点的情况下使用，例如两个站点都使用了同一张图片。</p> <p>会根据HTTP Herder中的字段判断哪些资源需要缓存，哪些资源可以不请求直接使用，哪些资源已经过期需要重新请求。</p> <p>对于到底哪些文件会缓存进内存，哪些进硬盘，参考如下：</p> <ul><li>对于大文件来说，大概率是不存储在内存中的，反之优先。</li> <li>当前系统内存使用率高的话，文件优先存储进硬盘。</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>有时候看到的是<code>prefetch cache</code></p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Link_prefetching_FAQ" target="_blank" rel="nofollow noopener noreferrer">prefetch cache<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一种浏览器预加载机制，其利用浏览器空闲时间来下载或预取用户在不久的将来可能访问的文档。网页向浏览器提供一组预取提示，并在浏览器完成当前页面的加载后开始静默地拉取指定的文档并将其存储在缓存中。当用户访问其中一个预取文档时，便可以快速的从浏览器缓存中得到。</p> <p>如何实现：对要预加载的文件的link标签加上<code>rel=&quot;prefetch&quot;</code>：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/images/big.jpeg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 或者使用 meta 标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;/images/big.jpeg&gt;; rel=prefetch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <h3 id="push-cache"><a href="#push-cache" class="header-anchor">#</a> Push Cache</h3> <ul><li>Push Cache推送缓存是HTTP2在server push阶段存在的缓存，当以上三种缓存都没有命中时，它才会被使用。</li> <li>Push Cache是一种存在于会话阶段的缓存，当session终止时，缓存也随之释放，在Chrome浏览器中只有5分钟左右，同时它也并非严格执行HTTP头中的缓存指令。</li> <li>不同的页面只要共享了同一个HTTP2连接，那么它们就可以共享同一个Push Cache。</li> <li>Push Cache中的缓存只能被使用一次。</li> <li>可以推送<code>no-cache</code>和<code>no-store</code>的资源。</li> <li>浏览器可以拒绝接受已经存在的资源推送。</li></ul> <h3 id="请求网络"><a href="#请求网络" class="header-anchor">#</a> 请求网络</h3> <p>如果一个请求在上述四个缓存都没有命中，那么浏览器会正式发送网络请求去获取内容。之后容易想到，为了提升之后请求的缓存命中率，自然要把这个资源添加到缓存中去。具体来说：</p> <ul><li>根据<code>Service Worker</code>中的handler决定是否存入Cache Storage（额外的缓存位置）。</li> <li>根据HTTP头部的相关字段（<code>Cache-Control</code>、<code>Pragma</code>等）决定是否存入<code>disk cache</code>。</li> <li><code>memory cache</code>保存一份资源的引用，以备下次使用。</li></ul> <h2 id="按失效策略分类"><a href="#按失效策略分类" class="header-anchor">#</a> 按失效策略分类</h2> <p><code>memory cache</code>是浏览器为了加快读取缓存速度而进行的自身的优化行为，不受开发者控制，也不受HTTP协议头的约束，算是一个黑盒。<code>Service Worker</code>是由开发者编写的额外的脚本，且缓存位置独立，出现也较晚，使用还不算太广泛。所以我们平时最为熟悉的其实是<code>disk cache</code>，也叫HTTP cache（因为不像<code>memory cache</code>，它遵守HTTP协议头中的字段）。平时所说的<strong>强缓存</strong>，<strong>协商缓存</strong>，<strong>启发式缓存</strong>，也都归于此类。</p> <h3 id="强缓存"><a href="#强缓存" class="header-anchor">#</a> 强缓存</h3> <p>强缓存的含义是，当客户端请求后，会先访问缓存数据库看缓存是否存在。如果存在则直接返回；不存在则请求真的服务器，响应后再写入缓存数据库。</p> <p>强缓存直接减少请求数，是提升最大的缓存策略。它的优化覆盖了文章开头提到过的请求数据的全部三个步骤。如果考虑使用缓存来优化网页性能的话，强缓存应该是首先被考虑的。</p> <ul><li>不会向服务器发送请求，直接从缓存中读取资源。</li> <li>状态码：200，显示<code>from disk cache</code>或<code>from memory cache</code>。</li> <li>设置两种HTTP Header实现：<code>Expires</code>和<code>Cache-Control</code>。</li></ul> <h4 id="expires"><a href="#expires" class="header-anchor">#</a> Expires</h4> <p>这是HTTP 1.0的字段，表示缓存到期时间，是一个绝对的时间（当前时间+缓存时间），如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Expires: Thu, 10 Nov 2017 08:45:11 GMT
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在响应消息头中，设置这个字段之后，就可以告诉浏览器，在未过期之前不需要再次请求。</p> <p>但是，这个字段设置时有两个缺点：</p> <ol><li>由于是绝对时间，用户可能会将客户端本地的时间进行修改，而导致浏览器判断缓存失效，重新请求该资源。此外，即使不考虑自行修改，时差或者误差等因素也可能造成客户端与服务端的时间不一致，致使缓存失效。</li> <li>写法太复杂了。表示时间的字符串多个空格，少个字母，都会导致非法属性从而设置失效。</li></ol> <h4 id="cache-control"><a href="#cache-control" class="header-anchor">#</a> Cache-Control</h4> <p>已知Expires的缺点之后，在HTTP/1.1中，增加了一个字段Cache-Control，该字段表示资源缓存的最大有效时间，在该时间内，客户端不需要向服务器发送请求</p> <p>这两者的区别就是前者是绝对时间，而后者是相对时间。如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Cache-Control: max-age=2592000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面列举一些<code>Cache-Control</code>字段常用的值：（完整的列表可以<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="nofollow noopener noreferrer">查看MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</p> <ul><li>max-age：即最大有效时间，单位秒。</li> <li>s-maxage：同<code>max-age</code>作用一样，只在代理服务器中生效（比如CDN缓存），<code>s-maxage</code>优先级高于<code>max-age</code>，只对<code>public</code>缓存有效。设置了<code>s-maxage</code>，没设置<code>public</code>，代理服务器也可以缓存这个资源。</li> <li>must-revalidate：如果超过了<code>max-age</code>的时间，浏览器必须向服务器发送请求，验证资源是否还有效。</li> <li>no-cache：虽然字面意思是“不要缓存”，但实际上还是要求客户端缓存内容的，只是是否使用这个内容由后续的协商缓存来决定。</li> <li>no-store：真正意义上的“不要缓存”。所有内容都不走缓存，包括强缓存和协商缓存。</li> <li>public：所有的内容都可以被缓存（包括客户端和代理服务器，如CDN）。</li> <li>private：所有的内容只有客户端才可以缓存，代理服务器不能缓存。默认值。</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>这里有一个疑问：<code>max-age=0</code>和<code>no-cache</code>等价吗？</p> <p>从规范的字面意思来说，<code>max-age</code>到期是**应该(SHOULD)<strong>重新验证，而<code>no-cache</code>是</strong>必须(MUST)**重新验证。但实际情况以浏览器实现为准，大部分情况他们俩的行为还是一致的。（如果是<code>max-age=0, must-revalidate</code>就和<code>no-cache</code>等价了）</p> <p>顺带一提，在HTTP/1.1之前，如果想使用<code>no-cache</code>，通常是使用<code>Pragma</code>字段，如<code>Pragma: no-cache</code>（这也是<code>Pragma</code>字段唯一的取值）。但是这个字段只是浏览器约定俗成的实现，并没有确切规范，因此缺乏可靠性。它应该只作为一个兼容字段出现，在当前的网络环境下其实用处已经很小。</p> <p>总结一下，自从HTTP/1.1开始，<code>Expires</code>逐渐被<code>Cache-Control</code>取代。<code>Cache-Control</code>是一个相对时间，即使客户端时间发生改变，相对时间也不会随之改变，这样可以保持服务器和客户端的时间一致性。而且<code>Cache-Control</code>的可配置性比较强大。</p> <p><code>Cache-Control</code>的优先级高于<code>Expires</code>，为了兼容HTTP/1.0和HTTP/1.1，实际项目中两个字段我们都会设置。</p></div> <h3 id="协商缓存"><a href="#协商缓存" class="header-anchor">#</a> 协商缓存</h3> <p>当<code>Cache-Control</code>和<code>Expires</code>过期或者它的属性设置为<code>no-cache</code>时（即不走强缓存），那么浏览器第二次请求时就会与服务器进行协商，与服务器端对比判断资源是否进行了修改更新。</p> <ul><li>如果服务器端的资源没有修改（<code>Not Modified</code>），那么就会返回<strong>304</strong>状态码，告诉浏览器可以使用缓存中的数据。返回的仅仅是一个状态码而已，并没有实际的文件内容，因此在响应体体积上的节省是它的优化点。</li> <li>如果数据有更新就会返回200状态码，服务器就会返回更新后的资源并且将缓存信息一起返回。</li> <li>跟协商缓存相关的header头属性有两组<code>ETag/If-None-Match</code>、<code>Last-Modified/If-Modified-Since</code>请求头和响应头需要成对出现。</li></ul> <h4 id="last-modified-if-modified-since"><a href="#last-modified-if-modified-since" class="header-anchor">#</a> Last-Modified/If-Modified-Since</h4> <ol><li>服务器通过<code>Last-Modified</code>字段告知客户端，资源最后一次被修改的时间，在response header中，例如<code>Last-Modified: Mon, 10 Nov 2018 09:10:11 GMT</code>。</li> <li>浏览器将这个值和内容一起记录在缓存数据库中。</li> <li>下一次请求相同资源时时，浏览器从自己的缓存中找出“不确定是否过期的”缓存。因此在请求头中将上次的<code>Last-Modified</code>的值写入到请求头的<code>If-Modified-Since</code>字段
服务器会将<code>If-Modified-Since</code>的值与<code>Last-Modified</code>字段进行对比。如果相等，则表示未修改，响应304；反之，则表示修改了，响应200状态码，并返回数据。</li></ol> <p>但是他还是有一定缺陷的：</p> <ul><li>如果资源更新的速度是秒以下单位，那么该缓存是不能被使用的，因为它的时间单位最低是秒。</li> <li>如果文件是通过服务器动态生成的，那么该方法的更新时间永远是生成的时间，尽管文件可能没有变化，所以起不到缓存的作用。</li></ul> <p>补充：<code>If-Modified-Since</code>、<code>If-Unmodified-Since</code>、<code>If-Match</code>、<code>If-None-Match</code></p> <ul><li><p><code>If-Modified-Since</code>：是一个条件式请求首部，服务器只在所请求的资源在给定的日期时间之后对内容进行过修改的情况下才会将资源返回，状态码为200。如果请求的资源从那时起未经修改，那么返回一个不带有消息主体的304响应，而在<code>Last-Modified</code>首部中会带有上次修改时间。不同于<code>If-Unmodified-Since</code>，<code>If-Modified-Since</code>只可以用在GET或HEAD请求中。</p> <ul><li>最常见的应用场景是来更新没有特定ETag标签的缓存实体。</li></ul></li> <li><p><code>If-Unmodified-Since</code>：消息头用于请求之中，使得当前请求成为条件式请求：只有当资源在指定的时间之后没有进行过修改的情况下，服务器才会返回请求的资源，或是接受POST或其他non-safe方法的请求。如果所请求的资源在指定的时间之后发生了修改，那么会返回412（Precondition Failed）错误。</p> <ul><li>与non-safe方法如POST搭配使用，可以用来优化并发控制，例如在某些wiki应用中的做法：假如在原始副本获取之后，服务器上所存储的文档已经被修改，那么对其作出的编辑会被拒绝提交（共享文档多人编辑场景）。</li> <li>与含有<code>Range</code>消息头的范围请求搭配使用，用来确保新的请求片段来自于未经修改的文档（断点续传）。</li></ul></li> <li><p><code>If-Match</code>：表示这是一个条件请求。在请求方法为GET和HEAD的情况下，服务器仅在请求的资源满足此首部列出的ETag值时才会返回资源。而对于PUT或其他非安全方法来说，只有在满足条件的情况下才可以将资源上传。</p></li> <li><p><code>If-None-Match</code>：是一个条件式请求首部。对于GET和HEAD请求方法来说，当且仅当服务器上没有任何资源的ETag属性值与这个首部中列出的相匹配的时候，服务器端才会返回所请求的资源，响应码为200。对于其他方法来说，当且仅当最终确认没有已存在的资源的ETag属性值与这个首部中所列出的相匹配的时候，才会对请求进行相应的处理。</p></li></ul> <h4 id="etag-if-none-match"><a href="#etag-if-none-match" class="header-anchor">#</a> Etag/If-None-Match</h4> <p>为了解决上述问题，出现了一组新的字段<code>Etag</code>和<code>If-None-Match</code>。</p> <p><code>Etag</code>存储的是文件的特殊标识（一般都是hash生成的），服务器存储着文件的<code>Etag</code>字段。之后的流程和<code>Last-Modified</code>一致，只是<code>Last-Modified</code>字段和它所表示的更新时间改变成了<code>Etag</code>字段和它所表示的文件hash，把<code>If-Modified-Since</code>变成了<code>If-None-Match</code>。服务器同样进行比较，命中返回304,不命中返回新资源和200。</p> <p><code>Etag</code>与<code>Last-Modified</code>比较：</p> <ul><li><code>Etag</code>在感知文件变化上比<code>Last-Modified</code>更加准确。</li> <li><code>Etag</code>的生成过程需要服务器额外付出开销，会影响服务端的性能。</li> <li><code>Etag</code>的优先级高于<code>Last-Modified</code>。</li></ul> <h3 id="启发式缓存"><a href="#启发式缓存" class="header-anchor">#</a> 启发式缓存</h3> <p>如果<code>Expires</code>，<code>Cache-Control: max-age</code>，或<code>Cache-Control: s-maxage</code>都没有在响应头中出现，并且设置了<code>Last-Modified</code>时，那么浏览器默认会采用一个启发式的算法，即启发式缓存：根据响应头中2个时间字段<code>Date</code>和<code>Last-Modified</code>之间的时间差值，取其值的<code>10%</code>作为缓存时间周期。这是浏览器默认的缓存方式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Date 减去 Last-Modified 值的 10% 作为缓存时间。</span>
<span class="token comment">// Date：创建报文的日期时间, Last-Modified 服务器声明文档最后被修改时间</span>
response_is_fresh <span class="token operator">=</span>  <span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Date <span class="token operator">-</span> Last<span class="token operator">-</span>Modified<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="缓存小结"><a href="#缓存小结" class="header-anchor">#</a> 缓存小结</h2> <p>当浏览器要请求资源时</p> <ul><li><p>调用<code>Service Worker</code>的<code>fetch</code>事件响应。</p></li> <li><p>查看<code>memory cache</code>。</p></li> <li><p>查看<code>disk cache</code>。这里又细分：</p> <ul><li>如果有强制缓存且未失效，则使用强制缓存，不请求服务器。这时的状态码全部是200。</li> <li>如果有强制缓存但已失效，使用协商缓存，比较后确定304还是200。</li></ul></li></ul> <p>发送网络请求，等待网络响应</p> <ul><li>把响应内容存入<code>disk cache</code>（如果HTTP头信息配置可以存的话）。</li> <li>把响应内容的引用存入<code>memory cache</code>（无视HTTP头信息的配置）。</li> <li>把响应内容存入<code>Service Worker</code>的Cache Storage（如果<code>Service Worker</code>的脚本调用了<code>cache.put()</code>）。</li></ul> <h2 id="用户行为对缓存的影响"><a href="#用户行为对缓存的影响" class="header-anchor">#</a> 用户行为对缓存的影响</h2> <p>强制刷新，window下是<code>Ctrl + F5</code>，mac下就是<code>command + shift + R</code></p> <div class="img-container" data-v-a458ecf0><div class="img-wrapper" style="width:;height:;max-width:100px;max-height:100px;" data-v-a458ecf0><img src="/image-default.png" alt="image-default" class="image-default" data-v-a458ecf0></img></div></div> <h2 id="缓存的最佳实践"><a href="#缓存的最佳实践" class="header-anchor">#</a> 缓存的最佳实践</h2> <p>整体的流程图：</p> <div class="img-container" data-v-a458ecf0><div class="img-wrapper" style="width:;height:;max-width:100px;max-height:100px;" data-v-a458ecf0><img src="/image-default.png" alt="image-default" class="image-default" data-v-a458ecf0></img></div></div> <p>频繁变动的资源，使用协商缓存</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Cache-Control: no-cache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>HTML文件：</p> <p>html页面缓存的设置主要是在<code>&lt;head&gt;</code>标签中嵌入<code>&lt;meta&gt;</code>标签，这种方式只对页面有效，对页面上的资源无效。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cache-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Cache-Control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max-age=7200<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>不常变化的资源，静态资源，使用强缓存并配合文件名添加hash</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Cache-Control: max-age=31536000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>CSS，JS，图片，给它们的Cache-Control配置一个很大的max-age=31536000（一年）。</p> <p>给文件名加上hash值，webpack给我们提供了三种哈希值计算方式：</p> <ul><li>hash：跟整个项目的构建相关，构建生成的文件hash值都是一样的，只要项目里有文件更改，整个项目构建的hash值都会更改。（一般不用这个）</li> <li>chunkhash：根据不同的入口文件（Entry）进行依赖文件解析、构建对应的chunk，生成对应的hash值。</li> <li>contenthash：由文件内容产生的hash值，内容不同产生的contenthash值也不一样。</li></ul> <h2 id="其他一些关于缓存的知识点"><a href="#其他一些关于缓存的知识点" class="header-anchor">#</a> 其他一些关于缓存的知识点</h2> <ol><li><p>缓存服务器版本</p> <p>当<code>Expires</code>和<code>Cache-Control:max-age=xxx</code>同时存在的时候取决于缓存服务器应用的HTTP版本。应用HTTP/1.1版本的服务器会优先处理<code>max-age</code>，忽略<code>Expires</code>，而应用HTTP/1.0版本的缓存服务器则会优先处理<code>Expires</code>而忽略<code>max-age</code>。</p></li> <li><p>Vary</p> <p>Vary是一个HTTP响应头部信息，它用来告诉服务器要用哪些头部信息来返回资源。</p> <p>如果你提供给移动端的内容是不同的，怎么让缓存服务器区分移动端和PC端呢？可以设置User-Agent字段来区分不同的客户端</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Vary: User-Agent
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>源服务器启用了gzip压缩，但用户使用了比较旧的浏览器，不支持压缩，缓存服务器如何返回？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Vary: Accept-Encoding
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>age</p> <p>response headers里面的age表示命中代理服务器的缓存。它指的是代理服务器对于请求资源的已缓存时间，单位为秒。如果文件被修改或替换，age会重新由0开始累计。age值为0表示代理服务器刚刚刷新了一次缓存。</p></li> <li><p>date</p> <p>指的是响应生成的时间。如果按F5频繁刷新发现响应里的Date没有改变，就说明命中了缓存服务器的缓存。</p></li> <li><p>兼容性</p> <p>在Firefox浏览器下，使用<code>Cache-Control:no-cache</code>是不生效的，其识别的是<code>no-store</code>。这样能达到其他浏览器使用<code>Cache-Control:no-cache</code>的效果。所以为了兼容Firefox浏览器，经常会写成<code>Cache-Control: no-cache,no-store</code>。</p></li> <li><p>后端设置缓存</p> <p>强缓存：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Cache-Control'</span><span class="token punctuation">,</span> <span class="token string">'public, max-age=xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>协商缓存：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Cache-Control'</span><span class="token punctuation">,</span> <span class="token string">'public, max-age=0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Last-Modified'</span><span class="token punctuation">,</span> xxx<span class="token punctuation">)</span><span class="token punctuation">;</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'ETag'</span><span class="token punctuation">,</span> xxx<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h2 id="cdn缓存原理"><a href="#cdn缓存原理" class="header-anchor">#</a> CDN缓存原理</h2> <p>CDN的全称Content Delivery Network，即内容分发网络。简而言之就是将静态资源文件（图片、视频、脚本等）缓存到距离用户最近位置的服务器上。因此用户在请求访问网站时，可以快速获取自己想要的内容。从而解决了跨运营商，跨地区，带宽小，CPU负载小所引起的响应速度慢等问题。</p> <p>CDN网络是在用户和服务器之间增加Cache层，主要是通过接管DNS实现，将用户的请求引导到Cache上获得源服务器的数据，从而降低网络的访问的速度。</p> <p>资源上传CDN之后，当用户访问CDN的资源地址之后会经历下面的步骤：</p> <ul><li>首先经过本地的DNS解析，请求cname指向的那台CDN专用的DNS服务器。</li> <li>DNS服务器返回全局负载均衡的服务器IP给用户。</li> <li>用户请求全局负载均衡服务器，服务器根据IP返回所在区域的负载均衡服务器IP给用户。</li> <li>用户请求区域负载均衡服务器，负载均衡服务器根据用户IP选择距离近的，并且存在用户所需内容的，负载比较合适的一台缓存服务器IP给用户。当没有对应内容的时候，会去上一级缓存服务器去找，直到找到资源所在的源站服务器，并且缓存在缓存服务器中。用户下一次在请求该资源，就可以就近拿缓存了。</li></ul> <p>注意：因为CDN的负载均衡和就近选择缓存都是根据用户的IP来的，服务器只能拿到local DNS的IP，也就是网络设置中设置的DNS IP，如果这个设置的不合理，那么可能起不到加速的效果。可能就近找到的缓存服务器实际离得很远。</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新: </span> <span class="time">2024年09月09日 17:54:45</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/pages/articles/http/osiqi-ceng-mo-xing-yu-tcpipwu-ceng-mo-xing.html" class="prev">
            OSI七层模型与TCPIP五层模型
          </a></span> <span class="next"><a href="/pages/articles/http/wei-shi-me-xu-yao-urlbian-ma.html">
            为什么需要URL编码
          </a></span></p></div> <div class="comments-wrapper" style="display:none;"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-70334359><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#什么是缓存" class="sidebar-link reco-side-什么是缓存" data-v-70334359>什么是缓存</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#为什么要缓存" class="sidebar-link reco-side-为什么要缓存" data-v-70334359>为什么要缓存</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#缓存分类" class="sidebar-link reco-side-缓存分类" data-v-70334359>缓存分类</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#按缓存位置分类" class="sidebar-link reco-side-按缓存位置分类" data-v-70334359>按缓存位置分类</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#service-worker" class="sidebar-link reco-side-service-worker" data-v-70334359>Service Worker</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#memory-cache" class="sidebar-link reco-side-memory-cache" data-v-70334359>memory cache</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#disk-cache" class="sidebar-link reco-side-disk-cache" data-v-70334359>disk cache</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#push-cache" class="sidebar-link reco-side-push-cache" data-v-70334359>Push Cache</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#请求网络" class="sidebar-link reco-side-请求网络" data-v-70334359>请求网络</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#按失效策略分类" class="sidebar-link reco-side-按失效策略分类" data-v-70334359>按失效策略分类</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#强缓存" class="sidebar-link reco-side-强缓存" data-v-70334359>强缓存</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#协商缓存" class="sidebar-link reco-side-协商缓存" data-v-70334359>协商缓存</a></li><li class="level-3" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#启发式缓存" class="sidebar-link reco-side-启发式缓存" data-v-70334359>启发式缓存</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#缓存小结" class="sidebar-link reco-side-缓存小结" data-v-70334359>缓存小结</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#用户行为对缓存的影响" class="sidebar-link reco-side-用户行为对缓存的影响" data-v-70334359>用户行为对缓存的影响</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#缓存的最佳实践" class="sidebar-link reco-side-缓存的最佳实践" data-v-70334359>缓存的最佳实践</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#其他一些关于缓存的知识点" class="sidebar-link reco-side-其他一些关于缓存的知识点" data-v-70334359>其他一些关于缓存的知识点</a></li><li class="level-2" data-v-70334359><a href="/pages/articles/http/qian-duan-huan-cun-xiang-guan.html#cdn缓存原理" class="sidebar-link reco-side-cdn缓存原理" data-v-70334359>CDN缓存原理</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:50%;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.c8e21545.js" defer></script><script src="/assets/js/3.83a3aa92.js" defer></script><script src="/assets/js/1.1efd4ac0.js" defer></script><script src="/assets/js/55.721e67ce.js" defer></script><script src="/assets/js/11.ae2268d9.js" defer></script>
  </body>
</html>
